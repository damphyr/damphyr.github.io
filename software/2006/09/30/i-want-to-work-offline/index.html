<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="google-site-verification" content="WJoG1y4O1QfZDWU4OFY1tGfE75UXU6WmQc91gCSLY5g" />
        <title>I want to work offline!</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">
        <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20077869-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/">Ampelofilosofies</a></h1>
              <a class="extra" href="/">home</a>
            </div>

                <h2>I want to work offline!</h2>
<p class="meta">30 Sep 2006</p>

<div class="post">
<p>I work online. If I can&#39;t get on the network I can&#39;t work, cannot synchronize my repositories, cannot read email, check the issues/tasks/defects left for me to clear up etc.</p>

<p>But I also work away from the office, behind firewalls that do not let me do VPN, on the train without any network connection etc. As far as code is concerned, there is no problem. Most source control systems will allow you to work offline and synchronise changes after you come back online. What about all the other collaboration tools though? </p>

<p>We use wikis a lot, it&#39;s a very handy tool to develop documentation for a project and keeping it up-to-date without much effort. There&#39;s a lot of knowledge in the project wiki, knowledge that is not available when you are offline.</p>

<p>We also use Trac as an issue tracking system. Same problem there: The tickets are not available offline.</p>

<p>This has been a major hurdle in the adoption of the wiki and the issue tracking system by my team. There&#39;s a lot of travelling involved, a lot of coordination meetings with the client, time where the people are essentially &quot;offline&quot; in the sense that they do not have access to the corporate network. </p>

<p>Which means that issues raised during a meeting will not immediately be recorded in Trac.</p>

<p>Which means that solutions for problems that are described by the developer team in wiki are not available to the project manager when in a meeting. </p>

<p>Both problems either generate more work (wiki documentation has to become Word documents and changes must be then manually recorded), or lead to the disuse of the tool (meeting protocols become todo lists with issues that are never entered in Trac etc.)</p>

<p>I want an offline-capable wiki and issue tracking tool. And by saying offline-capable I mean a tool that will allow someone to make local changes that can be then synchronised with the &quot;master&quot; server.</p>

<p>So I have a complete copy of the project wiki in my drive and can, i.e. in the meeting, read but also edit pages. When I get back to the corporate intranet, I use my nifty tool and enter the changes in the master wiki also updating my local copy with any changes done in my absence.</p>

<p>Same thing with the issue tracking system. I can enter new tickets locally and then update the server with my new tickets.
Essentially I want a perfect replica of the wiki and issue tracking system running on my laptop.</p>

<p>This more or less requires the backend for the system to have some kind of source control capabilities, to detect conflicts, produce diffs and do merges.</p>

<p>I imagine a combination of subversion backend with a mini webserver plus some modified scripts for the local replica.</p>

<p>The master installation commits directly after every change done online, while the local replica only makes changes in the local working copy.</p>

<p>In case of conflict the master always wins, but we make sure that the master is always up-to-date (a post-commit script will take care of this).</p>

<p>Updating the replica means just updating the working copy.</p>

<p>Getting the local changes online means commiting the changes made in the working copy.</p>

<p>There are problems, especially using this scheme for issues, where one wants to have numbers for the tickets and conflicts can arise very easily. A workaround would be to assign temporary ids locally, which then get resolved on commiting (i.e. a pre-commit hook script can do this). Also keeping the master always updated can create situations where a user sees the &quot;somebody changed the page&quot; more often.</p>

<p>A challenge is to set this up so that it requires the minimum intervention by the user. </p>

<p>It needs  to be easy to setup. Ideally just a check out of the working copy from the server should give you a ready working replica.</p>

<p>Commiting should be a one step process in the no conflict case and also callable from the replica&#39;s application instance. It would be something like update/resolve possible conflicts/commit.</p>

<p>Also commit logs should be generated automatically from the content of the edited page.</p>

<p>Another challenge is the design of the repository. For a wiki going back to the format used by the original Qwiki (each page a text file) would be the easiest way. </p>

</div>
<div id="disqus_thread"></div>
<script type="text/javascript" src="http://disqus.com/forums/ampelofilosofies/embed.js"></script>
<noscript><a href="http://ampelofilosofies.disqus.com/?url=ref">View the discussion thread.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


            <div class="footer">
              <div class="contact">
                <p>
                  Vassilis Rizopoulos<br />
                  Itinerant software engineer<br />

                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/damphyr">github.com/damphyr</a><br />
                  <a href="http://twitter.com/arcandros">twitter.com/arcandros</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
